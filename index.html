<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Poblamar League</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;
  background:#0a0a0a;
  margin:0;
  padding:20px;
  color:#fff;
}
h1{text-align:center;margin-bottom:20px}

/* ================= NOTICIAS ================= */
.news-box{
  max-width:700px;
  margin:0 auto 30px auto;
  background:#fff;
  color:#000;
  border-radius:12px;
  padding:15px;
  box-shadow:0 4px 10px rgba(0,0,0,0.4);
}
.news-box h2{text-align:center;margin-bottom:10px}
.news-content{
  display:flex;
  gap:15px;
  align-items:center;
}
.news-content img{
  width:120px;
  height:120px;
  object-fit:cover;
  border-radius:8px;
}
.news-controls{text-align:center;margin-top:10px}
.news-controls button{
  padding:6px 12px;
  margin:0 5px;
  border:none;
  border-radius:6px;
  cursor:pointer;
}

/* ================= FILTROS ================= */
.filters{
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:10px;
  margin-bottom:25px;
}
input,select{
  padding:8px 12px;
  font-size:14px;
  border-radius:6px;
  border:1px solid #ccc;
}

/* ================= JUGADORES ================= */
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(220px,1fr));
  gap:15px;
  justify-content:center;
}
.card{
  position:relative;
  background:#fff;
  border-radius:12px;
  padding:0;
  box-shadow:0 4px 10px rgba(0,0,0,0.3);
  cursor:pointer;
  transition:0.2s;
  width:220px;
  height:300px;
  display:flex;
  flex-direction:column;
  justify-content:flex-end;
}
.card:hover{transform:translateY(-5px)}
.card img{
  width:100%;
  height:210px;
  object-fit:contain;
}
.card h3{text-align:center;color:#000}
.stats{
  position:absolute;
  top:8px;
  left:8px;
  background:#fff;
  padding:4px 6px;
  border-radius:6px;
  font-size:12px;
}
.points-square{
  position:absolute;
  bottom:10px;
  right:10px;
  width:24px;
  height:24px;
  border-radius:4px;
  color:#fff;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:12px;
  font-weight:bold;
}

/* ================= MODAL ================= */
.modal{
  position:fixed;
  top:0;left:0;
  width:100%;height:100%;
  background:rgba(0,0,0,0.8);
  display:none;
  justify-content:center;
  align-items:center;
}
.modal-content{
  background:#fff;
  color:#000;
  padding:20px;
  border-radius:12px;
  max-width:400px;
  width:100%;
  position:relative;
}
.close{
  position:absolute;
  top:10px;
  right:15px;
  cursor:pointer;
}

/* ================= PICHICHI ================= */
.pichichi-table{
  width:100%;
  max-width:400px;
  margin:40px auto;
  border-collapse:collapse;
  background:#fff;
  color:#000;
  border-radius:10px;
  overflow:hidden;
}
.pichichi-table th,td{
  padding:10px;
  text-align:center;
  border-bottom:1px solid #ddd;
}
.pichichi-table th{
  background:#222;
  color:#fff;
}
</style>
</head>

<body>

<h1>Poblamar League</h1>

<!-- NOTICIAS -->
<div class="news-box">
  <h2>ðŸ“° Noticias</h2>
  <div class="news-content">
    <img id="newsImage">
    <p id="newsText"></p>
  </div>
  <div class="news-controls">
    <button onclick="prevNews()">â—€</button>
    <button onclick="nextNews()">â–¶</button>
  </div>
</div>

<!-- FILTROS -->
<div class="filters">
  <input type="text" id="searchName" placeholder="Buscar jugador...">
  <select id="filterPosition">
    <option value="">Todas las posiciones</option>
    <option value="Portero">Portero</option>
    <option value="Defensa">Defensa</option>
    <option value="Centrocampista">Centrocampista</option>
    <option value="Delantero">Delantero</option>
  </select>
  <select id="sortPoints">
    <option value="">Ordenar por puntos</option>
    <option value="desc">MÃ¡s a menos</option>
    <option value="asc">Menos a mÃ¡s</option>
  </select>
</div>

<!-- JUGADORES -->
<div class="grid" id="playersGrid"></div>

<!-- PICHICHI -->
<h2 style="text-align:center">âš½ Pichichi Poblamar League</h2>
<table class="pichichi-table">
  <thead>
    <tr><th>Jugador</th><th>Goles</th></tr>
  </thead>
  <tbody id="pichichiBody"></tbody>
</table>

<!-- MODAL -->
<div class="modal" id="playerModal">
  <div class="modal-content">
    <span class="close" onclick="closeModal()">âœ–</span>
    <div id="modalBody"></div>
  </div>
</div>

<script>
/* ================= DATOS JUGADORES ================= */
const players = [
 {nombre:"Toni",apellido:"Valls",edad:19,posicion:"Centrocampista",goles:4,asistencias:4,puntos:21,foto:"img/Toni.png"},
 {nombre:"Unai",apellido:"Martinez",edad:19,posicion:"Delantero",goles:0,asistencias:1,puntos:1,foto:"img/Unai.png"},
 {nombre:"Sergio",apellido:"JimÃ©nez",edad:19,posicion:"Delantero",goles:1,asistencias:0,puntos:4,foto:"img/Sergio.png"},
 {nombre:"Jaime",apellido:"del Rio",edad:19,posicion:"Centrocampista",goles:2,asistencias:1,puntos:12,foto:"img/Jaime.png"},
 {nombre:"Hicham",apellido:"",edad:19,posicion:"Defensa",goles:1,asistencias:0,puntos:5,foto:"img/Hicham.png"},
 {nombre:"Sergi",apellido:"CastaÃ±o",edad:19,posicion:"Delantero",goles:3,asistencias:2,puntos:17,foto:"img/Sergi.png"},
 {nombre:"David",apellido:"Fernandez",edad:19,posicion:"Centrocampista",goles:2,asistencias:5,puntos:20,foto:"img/David.png"},
 {nombre:"Eloi",apellido:"Rey",edad:19,posicion:"Defensa",goles:2,asistencias:0,puntos:12,foto:"img/Eloi2.png"},
 {nombre:"Axel",apellido:"",edad:18,posicion:"Centrocampista",goles:2,asistencias:0,puntos:7,foto:"img/sinfoto2.png"},
 {nombre:"Arnau",apellido:"CastaÃ±o",edad:17,posicion:"Centrocampista",goles:2,asistencias:0,puntos:11,foto:"img/Arnau.png"},
 {nombre:"Jose",apellido:"Romero",edad:16,posicion:"Centrocampista",goles:0,asistencias:0,puntos:1,foto:"img/Jose.png"},
 {nombre:"Marc",apellido:"Gutta",edad:19,posicion:"Defensa",goles:0,asistencias:1,puntos:4,foto:"img/Marc.png"},
 {nombre:"Ibu",apellido:"",edad:19,posicion:"Defensa",goles:0,asistencias:2,puntos:4,foto:"img/sinfoto2.png"},
 {nombre:"Moha",apellido:"",edad:19,posicion:"Centrocampista",goles:0,asistencias:0,puntos:-3,foto:"img/Moha.png"},
 {nombre:"Gerard",apellido:"",edad:19,posicion:"Centrocampista",goles:1,asistencias:0,puntos:4,foto:"img/sinfoto2.png"},
 {nombre:"Jan",apellido:"MartÃ­nez",edad:19,posicion:"Centrocampista",goles:2,asistencias:1,puntos:10,foto:"img/Jan.png"},
 {nombre:"Aitor",apellido:"Borrallo",edad:19,posicion:"Delantero",goles:3,asistencias:1,puntos:18,foto:"img/Aitor3.png"}
];

/* ================= RENDER JUGADORES ================= */
const grid = document.getElementById("playersGrid");

function renderPlayers(list){
  grid.innerHTML="";
  list.forEach(p=>{
    const c=document.createElement("div");
    c.className="card";
    c.innerHTML=`
      <img src="${p.foto}">
      <h3>${p.nombre}</h3>
      <div class="stats">${p.posicion}</div>
      <div class="points-square" style="background:#2196f3">${p.puntos}</div>
    `;
    c.onclick=()=>openModal(p);
    grid.appendChild(c);
  });
}
renderPlayers(players);

/* ================= MODAL ================= */
function openModal(p){
  document.getElementById("modalBody").innerHTML=`
    <h2>${p.nombre} ${p.apellido}</h2>
    <p><b>Edad:</b> ${p.edad}</p>
    <p><b>PosiciÃ³n:</b> ${p.posicion}</p>
    <p><b>Goles:</b> ${p.goles}</p>
    <p><b>Asistencias:</b> ${p.asistencias}</p>
    <p><b>Puntos:</b> ${p.puntos}</p>
  `;
  document.getElementById("playerModal").style.display="flex";
}
function closeModal(){
  document.getElementById("playerModal").style.display="none";
}

/* ================= FILTROS ================= */
const searchInput=document.getElementById("searchName");
const filterPosition=document.getElementById("filterPosition");
const sortPoints=document.getElementById("sortPoints");

function filterAndRender(){
  let filtered=[...players];
  const search=searchInput.value.toLowerCase();
  if(search){
    filtered=filtered.filter(p =>
      p.nombre.toLowerCase().includes(search) ||
      (p.apellido && p.apellido.toLowerCase().includes(search))
    );
  }
  if(filterPosition.value){
    filtered=filtered.filter(p=>p.posicion===filterPosition.value);
  }
  if(sortPoints.value==="asc"){
    filtered.sort((a,b)=>a.puntos-b.puntos);
  }
  if(sortPoints.value==="desc"){
    filtered.sort((a,b)=>b.puntos-a.puntos);
  }
  renderPlayers(filtered);
}

searchInput.addEventListener("input",filterAndRender);
filterPosition.addEventListener("change",filterAndRender);
sortPoints.addEventListener("change",filterAndRender);

/* ================= NOTICIAS ================= */
const noticias=[
 {img:"img/noticia1.png",text:"David lidera la jornada con un partidazo."},
 {img:"img/noticia2.png",text:"Empieza la lucha por el Pichichi Poblamar League."},
 {img:"img/noticia3.png",text:"Nivel altÃ­simo en todas las posiciones."}
];
let n=0;
function showNews(){
  document.getElementById("newsImage").src=noticias[n].img;
  document.getElementById("newsText").textContent=noticias[n].text;
}
function nextNews(){n=(n+1)%noticias.length;showNews()}
function prevNews(){n=(n-1+noticias.length)%noticias.length;showNews()}
showNews();
setInterval(nextNews,3000);

/* ================= PICHICHI ================= */
function renderPichichi(){
  const body=document.getElementById("pichichiBody");
  body.innerHTML="";
  [...players]
    .filter(p=>p.goles>0)
    .sort((a,b)=>b.goles-a.goles)
    .forEach(p=>{
      body.innerHTML+=`
        <tr>
          <td>${p.nombre} ${p.apellido}</td>
          <td>${p.goles}</td>
        </tr>`;
    });
}
renderPichichi();
</script>

</body>
</html>
